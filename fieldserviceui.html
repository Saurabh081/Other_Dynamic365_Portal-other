<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Management Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f8f9fa;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
        }
        hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 20px 0;
        }
        .service-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            gap: 20px;
        }
        .service-image {
            width: 120px;
            height: 120px;
            border-radius: 8px;
            overflow: hidden;
            flex-shrink: 0;
        }
        .service-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .service-content {
            flex: 1;
        }
        .service-title {
            color: #2c3e50;
            margin: 0 0 10px;
            font-size: 20px;
        }
        .status {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .status.estimated {
            color: #e67e22;
        }
        .status.actual {
            color: #27ae60;
        }
        .details {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        .detail-row {
            margin-bottom: 5px;
            display: flex;
        }
        .detail-label {
            font-weight: 600;
            color: #555;
            min-width: 120px;
        }
        .service-description {
            margin: 15px 0;
            line-height: 1.5;
            color: #495057;
        }
        .work-order {
            font-weight: 600;
            margin-bottom: 10px;
            visibility: hidden;
        }
        .service-actions {
            margin-top: -6%;
        }
        .action-btn {
            padding: 5px 10px;
            margin-right: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        .edit-btn {
            background-color: #3498db;
            color: white;
        }
        .delete-btn {
            background-color: #e74c3c;
            color: white;
        }
        .btn-primary {
            background-color: #2c3e50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        .btn-primary i {
            margin-right: 8px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .modal-header, .modal-footer {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-footer {
            border-top: 1px solid #eee;
            border-bottom: none;
        }
        .modal-title {
            font-size: 18px;
            font-weight: 700;
            color: #2c3e50;
        }
        .close {
            color: #999;
            font-size: 28px;
            cursor: pointer;
        }
        .modal-body {
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-label {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
            display: block;
            color: #495057;
        }
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        .btn-secondary {
            background-color: #6c757d;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Our Service</h1>
        <button class="btn-primary" onclick="openCreateModal()"><i class="fas fa-plus"></i>Create Service</button>
    </div>
    <hr>

    <div id="servicesContainer">
        <!-- Services will be rendered here -->
    </div>

    <!-- Modal -->
    <div id="serviceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Create New Service</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="serviceForm">
                    <div class="form-group">
                        <label class="form-label">Service Name</label>
                        <input type="text" class="form-input" id="serviceField" placeholder="e.g. HVAC Maintenance">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Line Status</label>
                        <select class="form-select" id="lineStatus">
                            <option value="estimated">Estimated</option>
                            <option value="actual">Actual</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Estimated Time</label>
                        <input type="text" class="form-input" id="estimateDuration" placeholder="e.g. 2 hours">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Actual Time</label>
                        <input type="text" class="form-input" id="duration" placeholder="e.g. 1.5 hours">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="description" placeholder="Service description"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Work Order</label>
                        <input type="text" class="form-input" id="workOrder" placeholder="e.g. WO-101">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn-primary" onclick="saveService()">Save Service</button>
            </div>
        </div>
    </div>

    <script>
        // Sample service data with images
        let services = [
            {
                id: 1,
                name: "Annual HVAC Tune-up",
                status: "estimated",
                lineStatus: "Planned",
                estimateDuration: "2 hours",
                duration: "1.5 hours",
                description: "Routine AC servicing including filter replacement, coil cleaning, and system diagnostics.",
                workOrder: "WO-101",
                image: "https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 2,
                name: "Faucet Repair",
                status: "actual",
                lineStatus: "Completed",
                estimateDuration: "1 hour",
                duration: "30 minutes",
                description: "Fix for leaky kitchen faucet including parts replacement.",
                workOrder: "WO-102",
                image: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 3,
                name: "Home Electrical Audit",
                status: "estimated",
                lineStatus: "Planned",
                estimateDuration: "3 hours",
                duration: "",
                description: "Full home electrical safety inspection and report.",
                workOrder: "WO-103",
                image: "https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"
            }
        ];

        let currentEditingId = null;

        function renderServices() {
            const container = document.getElementById('servicesContainer');
            container.innerHTML = '';
            
            if (services.length === 0) {
                container.innerHTML = '<p>No services found</p>';
                return;
            }
            
            services.forEach(service => {
                const serviceCard = document.createElement('div');
                serviceCard.className = 'service-card';
                serviceCard.innerHTML = `
                    <div class="service-image">
                        <img src="${service.image}" alt="${service.name}">
                    </div>
                    <div class="service-content">
                        <h2 class="service-title">${service.name}</h2>
                        <div class="status ${service.status}">â€¢ ${service.status.charAt(0).toUpperCase() + service.status.slice(1)}</div>
                        <div class="details">
                            <div class="detail-row">
                                <span class="detail-label">Line Status:</span> ${service.lineStatus}
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Estimated Time:</span> ${service.estimateDuration}
                            </div>
                            ${service.duration ? `
                            <div class="detail-row">
                                <span class="detail-label">Actual Time:</span> ${service.duration}
                            </div>
                            ` : ''}
                        </div>
                        <div class="service-description">${service.description}</div>
                        <div class="work-order">Work Order: ${service.workOrder}</div>
                        <div class="service-actions">
                            <button class="action-btn edit-btn" onclick="editService(${service.id})"><i class="fas fa-edit"></i> Edit</button>
                            <button class="action-btn delete-btn" onclick="deleteService(${service.id})"><i class="fas fa-trash"></i> Delete</button>
                        </div>
                    </div>
                `;
                container.appendChild(serviceCard);
                container.appendChild(document.createElement('hr'));
            });
        }

        function openCreateModal() {
            currentEditingId = null;
            document.getElementById('serviceForm').reset();
            document.getElementById('modalTitle').textContent = 'Create New Service';
            document.getElementById('serviceModal').style.display = 'block';
        }

        function editService(id) {
            const service = services.find(s => s.id === id);
            if (!service) return;
            
            currentEditingId = id;
            document.getElementById('modalTitle').textContent = 'Edit Service';
            
            document.getElementById('serviceField').value = service.name;
            document.getElementById('lineStatus').value = service.status;
            document.getElementById('estimateDuration').value = service.estimateDuration;
            document.getElementById('duration').value = service.duration;
            document.getElementById('description').value = service.description;
            document.getElementById('workOrder').value = service.workOrder;
            
            document.getElementById('serviceModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('serviceModal').style.display = 'none';
        }

        function saveService() {
            const serviceData = {
                id: currentEditingId || Date.now(),
                name: document.getElementById('serviceField').value,
                status: document.getElementById('lineStatus').value,
                lineStatus: document.getElementById('lineStatus').value === 'estimated' ? 'Planned' : 'Completed',
                estimateDuration: document.getElementById('estimateDuration').value,
                duration: document.getElementById('duration').value,
                description: document.getElementById('description').value,
                workOrder: document.getElementById('workOrder').value,
                image: getRandomServiceImage()
            };

            if (currentEditingId) {
                // Update existing service
                const index = services.findIndex(s => s.id === currentEditingId);
                if (index !== -1) {
                    services[index] = serviceData;
                }
            } else {
                // Add new service
                services.push(serviceData);
            }

            closeModal();
            renderServices();
        }

        function deleteService(id) {
            if (confirm('Are you sure you want to delete this service?')) {
                services = services.filter(service => service.id !== id);
                renderServices();
            }
        }

        function getRandomServiceImage() {
            const images = [
                "https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1556909211-d5b7d4f5a882?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1581093450021-4a7360e9a3c1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"
            ];
            return images[Math.floor(Math.random() * images.length)];
        }

        document.addEventListener('DOMContentLoaded', renderServices);
        window.onclick = function(e) {
            if (e.target === document.getElementById('serviceModal')) {
                closeModal();
            }
        }
    </script>
</body>
</html>